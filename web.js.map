{"version":3,"sources":["-","/home/runner/work/my_counter/my_counter/my/counter/-/../../../mam.ts","../../../mam.jam.js","/home/runner/work/my_counter/my_counter/my/counter/-/../../lom/dom/context/my/lom/dom/context/context.ts","/home/runner/work/my_counter/my_counter/my/counter/-/../../lom/dom/context/my/lom/dom/context/context.web.ts","/home/runner/work/my_counter/my_counter/my/counter/-/../../../mol/dom/context/mol/dom/context/context.ts","/home/runner/work/my_counter/my_counter/my/counter/-/../../../mol/dom/context/mol/dom/context/context.web.ts","/home/runner/work/my_counter/my_counter/my/counter/-/../../../mol/dom/render/children/mol/dom/render/children/children.ts","/home/runner/work/my_counter/my_counter/my/counter/-/../../lom/view/my/lom/view/view.ts","/home/runner/work/my_counter/my_counter/my/counter/-/../../lom/view/my/lom/view/view.web.ts","/home/runner/work/my_counter/my_counter/my/counter/-/../../lom/storage/my/lom/storage/storage.ts","/home/runner/work/my_counter/my_counter/my/counter/-/../../lom/button/my/lom/button/button.ts","/home/runner/work/my_counter/my_counter/my/counter/-/../../lom/input/my/lom/input/input.ts","/home/runner/work/my_counter/my_counter/my/counter/-/../../../mol/ambient/mol/ambient/ambient.ts","/home/runner/work/my_counter/my_counter/my/counter/-/../../../mol/delegate/mol/delegate/delegate.ts","/home/runner/work/my_counter/my_counter/my/counter/-/../../../mol/owning/mol/owning/owning.ts","/home/runner/work/my_counter/my_counter/my/counter/-/../../../mol/fail/mol/fail/fail.ts","/home/runner/work/my_counter/my_counter/my/counter/-/../../../mol/fail/hidden/mol/fail/hidden/hidden.ts","../../../mol/type/writable/writable.ts","/home/runner/work/my_counter/my_counter/my/counter/-/../../../mol/object2/mol/object2/object2.ts","/home/runner/work/my_counter/my_counter/my/counter/-/../../../mol/after/tick/mol/after/tick/tick.ts","/home/runner/work/my_counter/my_counter/my/counter/-/../../../mol/style/attach/mol/style/attach/attach.ts","/home/runner/work/my_counter/my_counter/my/counter/-/../../lom/theme/my/lom/theme/theme.ts","/home/runner/work/my_counter/my_counter/my/counter/-/../my/counter/counter.ts","/home/runner/work/my_counter/my_counter/my/counter/-/../-css/my/counter/-css/counter.css.ts"],"names":[],"sourceRoot":"/home/runner/work/my_counter/my_counter/my/counter/-/","mappings":";;AAAA;AACA;AACA;AACA;;ACHA,KAAK,CAAC,eAAe,GAAG,EAAE,CAAC;AAK3B,IAAU,CAAC,CAMV;AAND,WAAU,CAAC;AAMX,CAAC,EANS,CAAC,KAAD,CAAC,QAMV;AAED,MAAM,CAAC,OAAO,GAAG,CAAC,CAAA;;;ADblB;AACA;AACA;AEFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACXA,IAAI,mBAAsC,CAAA;;;;ACA1C,mBAAmB,GAAG,IAAI,CAAA;;;;ACD1B,IAAU,CAAC,CAIV;AAJD,WAAU,CAAC;AAIX,CAAC,EAJS,CAAC,KAAD,CAAC,QAIV;;;;ACJD,IAAU,CAAC,CAIV;AAJD,WAAU,CAAC;IAEV,CAAC,CAAC,gBAAgB,GAAG,IAAW,CAAA;AAEjC,CAAC,EAJS,CAAC,KAAD,CAAC,QAIV;;;;ACJD,IAAU,CAAC,CAuDV;AAvDD,WAAU,CAAC;IAEV,SAAgB,wBAAwB,CACvC,EAA+B,EAC/B,UAAqD;QAErD,MAAM,QAAQ,GAAG,IAAI,GAAG,CAA0B,UAAU,CAAE,CAAA;QAE9D,IAAI,QAAQ,GAAiB,EAAE,CAAC,UAAU,CAAA;QAC1C,KAAK,IAAI,IAAI,IAAI,UAAU,EAAG;YAE7B,IAAI,IAAI,IAAI,IAAI;gBAAG,SAAQ;YAE3B,IAAI,IAAI,YAAY,gBAAgB,CAAC,IAAI,EAAG;gBAE3C,OAAO,IAAI,EAAG;oBACb,IAAI,CAAC,QAAQ,EAAG;wBACf,EAAE,CAAC,WAAW,CAAE,IAAI,CAAE,CAAA;wBACtB,MAAK;qBACL;oBACD,IAAI,QAAQ,IAAI,IAAI,EAAG;wBACtB,QAAQ,GAAG,QAAQ,CAAC,WAAW,CAAA;wBAC/B,MAAK;qBACL;yBAAM;wBACN,IAAI,QAAQ,CAAC,GAAG,CAAE,QAAQ,CAAE,EAAG;4BAC9B,EAAE,CAAC,YAAY,CAAE,IAAI,EAAG,QAAQ,CAAE,CAAA;4BAClC,MAAK;yBACL;6BAAM;4BACN,MAAM,EAAE,GAAG,QAAQ,CAAC,WAAW,CAAA;4BAC/B,EAAE,CAAC,WAAW,CAAE,QAAQ,CAAE,CAAA;4BAC1B,QAAQ,GAAG,EAAE,CAAA;yBACb;qBACD;iBACD;aAED;iBAAM;gBACN,IAAI,QAAQ,IAAI,QAAQ,CAAC,QAAQ,KAAK,OAAO,EAAG;oBAC/C,MAAM,GAAG,GAAG,MAAM,CAAE,IAAI,CAAE,CAAA;oBAC1B,IAAI,QAAQ,CAAC,SAAS,KAAK,GAAG;wBAAG,QAAQ,CAAC,SAAS,GAAG,GAAG,CAAA;oBACzD,QAAQ,GAAG,QAAQ,CAAC,WAAW,CAAA;iBAC/B;qBAAM;oBACN,MAAM,QAAQ,GAAG,gBAAgB,CAAC,QAAQ,CAAC,cAAc,CAAE,MAAM,CAAE,IAAI,CAAE,CAAE,CAAA;oBAC3E,EAAE,CAAC,YAAY,CAAE,QAAQ,EAAG,QAAQ,CAAE,CAAA;iBACtC;aACD;SAED;QAED,OAAO,QAAQ,EAAG;YACjB,MAAM,QAAQ,GAAG,QAAQ,CAAA;YACzB,QAAQ,GAAG,QAAQ,CAAC,WAAW,CAAA;YAC/B,EAAE,CAAC,WAAW,CAAE,QAAQ,CAAE,CAAA;SAC1B;IACF,CAAC;IAnDe,0BAAwB,2BAmDvC,CAAA;AAEF,CAAC,EAvDS,CAAC,KAAD,CAAC,QAuDV;;;;ACvDD,MAAM,YAAY;IAIjB,SAAS,GAAG,IAA0B,CAAA;IAEtC,QAAQ;QACP,IAAK,IAAI,CAAC,SAAS;YAAG,OAAO,IAAI,CAAC,SAAS,CAAA;QAE3C,MAAM,IAAI,GAAG,mBAAmB,CAAC,QAAQ,CAAC,aAAa,CAAE,IAAI,CAAC,QAAQ,EAAE,CAAE,CAAA;QAE1E,KAAM,MAAM,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,EAAG;YACxD,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,EAAE,CAAC,CAAA;SAC/B;QAGD,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAA;QAEhD,OAAO,IAAI,CAAC,SAAS,GAAG,IAAI,CAAA;IAC7B,CAAC;IAGD,eAAe;QACd,MAAM,IAAI,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAA;QAE5B,KAAM,MAAM,CAAC,IAAI,EAAE,GAAG,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAG;YACxD,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC,CAAA;SACpC;QAED,KAAM,MAAM,CAAC,IAAI,EAAE,GAAG,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,EAAG;YACvD,IAAa,CAAC,IAAqB,CAAC,GAAI,GAAG,CAAA;SAC7C;QAED,OAAO,IAAI,CAAA;IACZ,CAAC;IAGD,QAAQ;QACP,MAAM,IAAI,GAAG,IAAI,CAAC,eAAe,EAAE,CAAA;QAEnC,MAAM,SAAS,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC,GAAG,CAAE,IAAI,CAAC,EAAE;YACxC,IAAK,IAAI,KAAK,IAAI;gBAAG,OAAO,IAAI,CAAA;YAChC,OAAO,IAAI,YAAY,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;QACrE,CAAC,CAAE,CAAA;QAGH,CAAC,CAAC,wBAAwB,CAAE,IAAI,EAAG,SAAS,CAAE,CAAA;QAE9C,OAAO,IAAI,CAAA;IACZ,CAAC;IAKD,QAAQ;QACP,OAAO,KAAK,CAAA;IACb,CAAC;IAED,IAAI;QACH,OAAO,EAAE,CAAA;IACV,CAAC;IAED,KAAK;QACJ,OAAO,EAAE,CAAA;IACV,CAAC;IAED,KAAK;QACJ,OAAO,EAAE,CAAA;IACV,CAAC;IAED,GAAG;QACF,OAAO,EAAE,CAAA;IACV,CAAC;IAED,MAAM,CAAC,IAAI,CAA0B;IACrC,MAAM,CAAC,KAAK;QACX,MAAM,IAAI,GAAG,mBAAmB,CAAC,QAAQ,CAAC,aAAa,CAAE,OAAO,CAAE,CAAA;QAClE,IAAK,CAAC,IAAI;YAAG,OAAM;QAEnB,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,EAAE,CAAA;QACxB,MAAM,GAAG,GAAG,IAAI,IAAI,CAAA;QAEpB,IAAI,CAAC,WAAW,CAAE,GAAG,CAAC,QAAQ,EAAE,CAAE,CAAA;QAClC,WAAW,CAAE,GAAE,EAAE,CAAC,GAAG,CAAC,QAAQ,EAAE,EAAG,GAAG,CAAE,CAAA;IACzC,CAAC;CACD;;;ACpFD,YAAY,CAAC;AACb,UAAU,CAAC,GAAG,EAAE,CAAC,YAAY,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,CAAA;;;;ACAzC,MAAM,eAAe;IAEpB,MAAM,CAAC,KAAK,CAAS,GAAW,EAAE,IAAY;QAC7C,IAAK,IAAI,KAAK,SAAS;YAAG,OAAO,IAAI,CAAC,KAAK,CAAE,YAAY,CAAC,OAAO,CAAE,GAAG,CAAE,IAAI,MAAM,CAAE,CAAA;QAEpF,IAAK,IAAI,KAAK,IAAI;YAAG,YAAY,CAAC,UAAU,CAAE,GAAG,CAAE,CAAA;;YAC9C,YAAY,CAAC,OAAO,CAAE,GAAG,EAAE,IAAI,CAAC,SAAS,CAAE,IAAI,CAAE,CAAE,CAAA;QAExD,OAAO,IAAI,CAAA;IACZ,CAAC;CAED;;;;ACXD,MAAM,cAAe,SAAQ,YAAY;IAExC,QAAQ,KAAK,OAAO,QAAQ,CAAA,CAAC,CAAC;IAE9B,KAAK,KAAK,OAAO,EAAE,CAAA,CAAC,CAAC;IAErB,KAAK,CAAE,CAAQ,IAAI,CAAC;IAEpB,GAAG;QACF,OAAO,CAAE,IAAI,CAAC,KAAK,EAAE,CAAE,CAAA;IACxB,CAAC;IAED,KAAK;QACJ,OAAO;YACN,KAAK,EAAE,CAAC,CAAQ,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;SAClC,CAAA;IACF,CAAC;CAED;AAED,MAAM,oBAAqB,SAAQ,cAAc;IAEhD,IAAI;QACH,OAAO;YACN,qBAAqB,EAAE,IAAI;SAC3B,CAAA;IACF,CAAC;CAED;;;;AC5BD,MAAM,aAAc,SAAQ,YAAY;IACvC,QAAQ,KAAK,OAAO,OAAO,CAAA,CAAC,CAAC;IAE7B,IAAI,KAAK,OAAO,MAAM,CAAA,CAAC,CAAC;IAExB,MAAM,GAAG,EAAE,CAAA;IACX,KAAK,CAAE,IAAI,GAAG,IAAI,CAAC,MAAM;QACxB,OAAO,IAAI,CAAC,MAAM,GAAG,IAAI,CAAA;IAC1B,CAAC;IAED,YAAY,CAAE,CAAQ;QACrB,IAAI,CAAC,KAAK,CAAG,CAAC,CAAC,MAA2B,CAAC,KAAK,CAAE,CAAA;IACnD,CAAC;IAED,KAAK;QACJ,OAAO;YACN,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE;SACnB,CAAA;IACF,CAAC;IAED,IAAI;QACH,OAAO;YACN,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE;SACjB,CAAA;IACF,CAAC;IAED,KAAK;QACJ,OAAO;YACN,KAAK,EAAE,CAAC,CAAQ,EAAC,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;SACxC,CAAA;IACF,CAAC;CACD;;;;ACjCD,IAAU,CAAC,CAWV;AAXD,WAAU,CAAC;IAEG,kBAAgB,GAAmB,MAAM,CAAE,kBAAkB,CAAE,CAAA;IAK5E,SAAgB,YAAY,CAAoB,SAAwB;QACvE,OAAO,MAAM,CAAC,cAAc,CAAE,SAAS,EAAG,IAAI,IAAI,CAAC,CAAE,CAAA;IACtD,CAAC;IAFe,cAAY,eAE3B,CAAA;AAEF,CAAC,EAXS,CAAC,KAAD,CAAC,QAWV;;;;ACXD,IAAU,CAAC,CA0DV;AA1DD,WAAU,CAAC;IAEV,MAAM,SAAS,GAAG,IAAI,OAAO,EAAS,CAAA;IAOnC,SAAgB,aAAa,CAC/B,KAAa,EACb,MAAmB;QAGnB,MAAM,KAAK,GAAG,IAAI,KAAK,CAAE,KAAK,EAAG;YAEhC,GAAG,EAAE,CAAE,CAAC,EAAG,KAAK,EAAE,EAAE;gBACnB,MAAM,GAAG,GAAG,MAAM,EAAE,CAAA;gBACpB,IAAI,GAAG,GAAG,OAAO,CAAC,GAAG,CAAE,GAAG,EAAG,KAAK,CAAE,CAAA;gBACpC,IAAI,OAAO,GAAG,KAAK,UAAU,EAAG;oBAC/B,GAAG,GAAG,GAAG,CAAC,IAAI,CAAE,GAAG,CAAE,CAAA;iBACrB;gBACD,OAAO,GAAG,CAAA;YACX,CAAC;YACD,GAAG,EAAE,CAAE,CAAC,EAAG,KAAK,EAAE,EAAE,CAAC,OAAO,CAAC,GAAG,CAAE,MAAM,EAAE,EAAE,KAAK,CAAE;YACnD,GAAG,EAAE,CAAE,CAAC,EAAG,KAAK,EAAG,KAAK,EAAE,EAAE,CAAC,OAAO,CAAC,GAAG,CAAE,MAAM,EAAE,EAAG,KAAK,EAAG,KAAK,CAAE;YAEpE,wBAAwB,EAAE,CAAE,CAAC,EAAG,KAAK,EAAE,EAAE,CAAC,OAAO,CAAC,wBAAwB,CAAE,MAAM,EAAE,EAAG,KAAK,CAAE;YAC9F,OAAO,EAAE,GAAE,EAAE,CAAC,OAAO,CAAC,OAAO,CAAE,MAAM,EAAE,CAAE;YAEzC,cAAc,EAAE,GAAE,EAAE,CAAC,OAAO,CAAC,cAAc,CAAE,MAAM,EAAE,CAAE;YACvD,cAAc,EAAE,CAAE,CAAC,EAAG,KAAK,EAAE,EAAE,CAAC,OAAO,CAAC,cAAc,CAAE,MAAM,EAAE,EAAG,KAAK,CAAE;YAE1E,YAAY,EAAE,GAAE,EAAE,CAAC,OAAO,CAAC,YAAY,CAAE,MAAM,EAAE,CAAE;YACnD,iBAAiB,EAAE,GAAE,EAAE,CAAC,OAAO,CAAC,iBAAiB,CAAE,MAAM,EAAE,CAAE;YAE7D,KAAK,EAAE,CAAE,CAAC,EAAG,IAAI,EAAG,IAAI,EAAE,EAAE,CAAC,OAAO,CAAC,KAAK,CAAE,MAAM,EAAc,EAAG,IAAI,EAAG,IAAI,CAAE;YAChF,SAAS,EAAE,CAAE,CAAC,EAAG,IAAI,EAAG,QAAQ,EAAE,EAAE,CAAC,OAAO,CAAC,SAAS,CAAE,MAAM,EAAc,EAAG,IAAI,EAAG,QAAQ,CAAE;YAEhG,cAAc,EAAE,CAAE,CAAC,EAAG,KAAK,EAAG,KAAK,EAAE,EAAE,CAAC,OAAO,CAAC,cAAc,CAAE,MAAM,EAAE,EAAG,KAAK,EAAG,KAAK,CAAE;YAC1F,cAAc,EAAE,CAAE,CAAC,EAAG,KAAK,EAAE,EAAE,CAAC,OAAO,CAAC,cAAc,CAAE,MAAM,EAAE,EAAG,KAAK,CAAE;SAE1E,CAAE,CAAA;QAEH,SAAS,CAAC,GAAG,CAAE,KAAK,CAAE,CAAA;QAEtB,OAAO,KAAK,CAAA;IAEb,CAAC;IAvCkB,eAAa,gBAuC/B,CAAA;IAED,OAAO,CAAC,cAAc,CACrB,aAAa,EACb,MAAM,CAAC,WAAW,EAClB;QACC,KAAK,EAAG,CAAE,GAAY,EAAE,EAAE,CAAC,SAAS,CAAC,GAAG,CAAE,GAAG,CAAE;KAC/C,CACD,CAAA;AAEF,CAAC,EA1DS,CAAC,KAAD,CAAC,QA0DV;;;;AC1DD,IAAU,CAAC,CAyDV;AAzDD,WAAU,CAAC;IAEG,iBAAe,GAAG,IAAI,OAAO,EAAe,CAAA;IAEzD,SAAgB,iBAAiB,CAChC,MAAe;QAIf,IAAI;YACH,IAAI,CAAC,MAAM;gBAAG,OAAO,KAAK,CAAA;YAC1B,IAAI,OAAO,MAAM,KAAK,QAAQ;gBAAG,OAAO,KAAK,CAAA;YAC7C,IAAI,MAAM,YAAY,aAAa;gBAAG,OAAO,KAAK,CAAA;YAClD,IAAI,OAAQ,MAAc,CAAC,YAAY,CAAC,KAAK,UAAU;gBAAG,OAAO,KAAK,CAAA;YACtE,OAAO,IAAI,CAAA;SACX;QAAC,MAAM;YACP,OAAO,KAAK,CAAA;SACZ;IACF,CAAC;IAde,mBAAiB,oBAchC,CAAA;IAED,SAAgB,eAAe,CAAmC,MAAe,EAAG,KAA0B;QAE7G,IAAI,CAAC,iBAAiB,CAAE,MAAM,CAAE;YAAG,OAAO,IAAI,CAAA;QAE9C,OAAO,IAAI,EAAG;YAEb,MAAM,KAAK,GAAG,EAAA,eAAe,CAAC,GAAG,CAAE,MAAM,CAAE,CAAA;YAC3C,IAAI,CAAC,KAAK;gBAAG,OAAO,KAAK,CAAA;YACzB,IAAI,CAAC,KAAK;gBAAG,OAAO,KAAK,CAAA;YAEzB,IAAI,KAAK,YAAY,KAAK;gBAAG,OAAO,KAAK,CAAA;YAEzC,MAAM,GAAG,KAAK,CAAA;SACd;IAEF,CAAC;IAfe,iBAAe,kBAe9B,CAAA;IAED,SAAgB,iBAAiB,CAChC,KAAa,EACb,MAAe;QAEf,IAAI,CAAC,iBAAiB,CAAE,MAAM,CAAE;YAAG,OAAO,KAAK,CAAA;QAC/C,IAAI,EAAA,eAAe,CAAC,GAAG,CAAE,MAAM,CAAE,KAAK,KAAK;YAAG,OAAO,KAAK,CAAA;QAC1D,OAAO,IAAI,CAAA;IACZ,CAAC;IAPe,mBAAiB,oBAOhC,CAAA;IAED,SAAgB,iBAAiB,CAChC,KAAa,EACb,MAAe;QAEf,IAAI,CAAC,iBAAiB,CAAE,MAAM,CAAE;YAAG,OAAO,KAAK,CAAA;QAC/C,IAAI,EAAA,eAAe,CAAC,GAAG,CAAE,MAAM,CAAE;YAAG,OAAO,KAAK,CAAA;QAEhD,EAAA,eAAe,CAAC,GAAG,CAAE,MAAM,EAAG,KAAK,CAAE,CAAA;QACrC,OAAO,IAAI,CAAA;IACZ,CAAC;IATe,mBAAiB,oBAShC,CAAA;AAEF,CAAC,EAzDS,CAAC,KAAD,CAAC,QAyDV;;;;ACzDD,IAAU,CAAC,CAMV;AAND,WAAU,CAAC;IAEV,SAAgB,SAAS,CAAE,KAAW;QACrC,MAAM,KAAK,CAAA;IACZ,CAAC;IAFe,WAAS,YAExB,CAAA;AAEF,CAAC,EANS,CAAC,KAAD,CAAC,QAMV;;;;ACND,IAAU,CAAC,CAMV;AAND,WAAU,CAAC;IAEV,SAAgB,gBAAgB,CAAE,KAAW;QAC5C,MAAM,KAAK,CAAA;IACZ,CAAC;IAFe,kBAAgB,mBAE/B,CAAA;AAEF,CAAC,EANS,CAAC,KAAD,CAAC,QAMV;;;ACND;AACA;AACA;;ACFA,IAAU,CAAC,CAoDV;AApDD,WAAU,CAAC;IAEV,MAAa,YAAY;QAExB,MAAM,CAAC,CAAC,GAAG,CAAM,CAAA;QAEjB,CAAC,MAAM,CAAC,WAAW,CAAC,CAAS;QAE7B,CAAE,gBAAgB,CAAE,GAAG,IAAgB,CAAA;QACvC,IAAI,CAAC;YACJ,IAAI,IAAI,CAAE,gBAAgB,CAAE;gBAAG,OAAO,IAAI,CAAE,gBAAgB,CAAE,CAAA;YAC9D,MAAM,KAAK,GAAG,eAAe,CAAE,IAAI,CAAS,CAAA;YAC5C,OAAO,IAAI,CAAE,gBAAgB,CAAE,GAAG,KAAK,EAAE,CAAC,IAAI,YAAY,CAAC,CAAM,CAAA;QAClE,CAAC;QACD,IAAI,CAAC,CAAE,IAAQ;YACd,IAAI,IAAI,CAAE,gBAAgB,CAAE;gBAAG,gBAAgB,CAAE,IAAI,KAAK,CAAE,yBAAyB,CAAE,CAAE,CAAA;YACzF,IAAI,CAAE,gBAAgB,CAAE,GAAG,IAAI,CAAA;QAChC,CAAC;QAEM,MAAM,CAAC,MAAM,CAEnB,IAA0D;YAE1D,MAAM,GAAG,GAAG,IAAI,IAAI,CAAA;YACpB,IAAI,IAAI;gBAAG,IAAI,CAAE,GAAG,CAAE,CAAA;YACtB,OAAO,GAAG,CAAA;QACX,CAAC;QAED,MAAM,CAAC,CAAE,MAAM,CAAC,WAAW,CAAE;YAC5B,OAAO,IAAI,CAAC,QAAQ,EAAE,CAAA;QACvB,CAAC;QAED,MAAM,CAAC,QAAQ;YACd,IAAI,MAAM,CAAC,WAAW,IAAI,IAAI;gBAAG,OAAO,IAAI,CAAE,MAAM,CAAC,WAAW,CAAY,CAAA;YAC5E,OAAO,IAAI,CAAC,IAAI,CAAA;QACjB,CAAC;QAED,UAAU,KAAK,CAAC;QAMhB,QAAQ;YACP,OAAO,IAAI,CAAE,MAAM,CAAC,WAAW,CAAE,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,IAAI,CAAA;QAClE,CAAC;QAED,MAAM;YACL,OAAO,IAAI,CAAC,QAAQ,EAAE,CAAA;QACvB,CAAC;;IA/CW,cAAY,eAiDxB,CAAA;AACF,CAAC,EApDS,CAAC,KAAD,CAAC,QAoDV;;;;ACpDD,IAAU,CAAC,CAuBV;AAvBD,WAAU,CAAC;IAEV,MAAa,eAAgB,SAAQ,YAAY;QAMxC;QAJR,OAAO,CAAM;QACb,SAAS,GAAG,KAAK,CAAA;QAEjB,YACQ,IAAgB;YAEvB,KAAK,EAAE,CAAA;YAFA,SAAI,GAAJ,IAAI,CAAY;YAGvB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAE,GAAE,EAAE;gBAC1C,IAAI,IAAI,CAAC,SAAS;oBAAG,OAAM;gBAC3B,IAAI,EAAE,CAAA;YACP,CAAC,CAAE,CAAA;QACJ,CAAC;QAED,UAAU;YACT,IAAI,CAAC,SAAS,GAAG,IAAI,CAAA;QACtB,CAAC;KAED;IAnBY,iBAAe,kBAmB3B,CAAA;AAEF,CAAC,EAvBS,CAAC,KAAD,CAAC,QAuBV;;;;ACvBD,IAAU,CAAC,CAqCV;AArCD,WAAU,CAAC;IAEV,IAAI,GAAG,GAAG,EAAc,CAAA;IACxB,IAAI,EAAE,GAA6B,IAAI,CAAA;IACvC,IAAI,KAAK,GAA4B,IAAI,CAAA;IAEzC,SAAgB,uBAAuB;QACtC,IAAI,GAAG,CAAC,MAAM,EAAG;YAChB,EAAG,CAAC,SAAS,IAAI,IAAI,GAAG,GAAG,CAAC,IAAI,CAAE,MAAM,CAAE,CAAA;YAC1C,GAAG,GAAG,EAAE,CAAA;SACR;QACD,KAAK,GAAG,IAAI,CAAA;QACZ,OAAO,EAAG,CAAA;IACX,CAAC;IAPe,yBAAuB,0BAOtC,CAAA;IAED,SAAgB,iBAAiB,CAChC,EAAW,EACX,IAAa;QAGb,GAAG,CAAC,IAAI,CAAE,MAAO,EAAG,UAAW,IAAK,EAAE,CAAC,CAAA;QAEvC,IAAI,KAAK;YAAG,OAAO,EAAG,CAAA;QAEtB,MAAM,GAAG,GAAG,gBAAgB,CAAC,QAAQ,CAAA;QACrC,IAAI,CAAC,GAAG;YAAG,OAAO,IAAI,CAAA;QAEtB,EAAE,GAAG,GAAG,CAAC,aAAa,CAAC,OAAO,CAAC,CAAA;QAC/B,EAAE,CAAC,EAAE,GAAG,mBAAmB,CAAA;QAC3B,GAAG,CAAC,IAAI,CAAC,WAAW,CAAE,EAAE,CAAE,CAAA;QAE1B,KAAK,GAAG,IAAI,eAAe,CAAE,uBAAuB,CAAE,CAAA;QAEtD,OAAO,EAAE,CAAA;IAEV,CAAC;IApBe,mBAAiB,oBAoBhC,CAAA;AAEF,CAAC,EArCS,CAAC,KAAD,CAAC,QAqCV;;;;ACpCD,WAAW,CAAE,GAAE,EAAE;IAGhB,mBAAmB,CAAC,QAAQ,CAAC,eAAe,CAAC,YAAY,CACxD,cAAc,EACd,IAAI,IAAI,EAAE,CAAC,UAAU,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAC/C,CAAA;AACF,CAAC,EAAG,KAAK,CAAE,CAAA;;;;ACPX,MAAM,WAAY,SAAQ,YAAY;IAYrC,KAAK,CAAE,IAAa;QAEnB,OAAO,eAAe,CAAC,KAAK,CAAE,OAAO,EAAG,IAAI,CAAE,IAAI,CAAC,CAAA;IACpD,CAAC;IAGD,SAAS,CAAE,IAAa;QACvB,OAAO,IAAI,CAAC,KAAK,CAAE,IAAI,EAAE,OAAO,IAAI,MAAM,CAAC,IAAI,CAAC,CAAE,CAAC,QAAQ,EAAE,CAAA;IAC9D,CAAC;IAED,GAAG;QACF,IAAI,CAAC,KAAK,CAAE,IAAI,CAAC,KAAK,EAAE,GAAG,CAAC,CAAE,CAAA;IAC/B,CAAC;IAED,GAAG;QACF,IAAI,CAAC,KAAK,CAAE,IAAI,CAAC,KAAK,EAAE,GAAG,CAAC,CAAE,CAAA;IAC/B,CAAC;IAKD,IAAI,GAAG,IAA+B,CAAA;IACtC,GAAG;QACF,IAAI,IAAI,CAAC,IAAI;YAAE,OAAO,IAAI,CAAC,IAAI,CAAA;QAE/B,MAAM,GAAG,GAAG,IAAI,cAAc,CAAA;QAC9B,GAAG,CAAC,KAAK,GAAG,GAAE,EAAE,CAAC,GAAG,CAAA;QACpB,GAAG,CAAC,KAAK,GAAG,GAAE,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE,CAAA;QAE3B,OAAO,IAAI,CAAC,IAAI,GAAG,GAAG,CAAA;IACvB,CAAC;IAED,IAAI,GAAG,IAA+B,CAAA;IACtC,GAAG;QACF,IAAI,IAAI,CAAC,IAAI;YAAE,OAAO,IAAI,CAAC,IAAI,CAAA;QAE/B,MAAM,GAAG,GAAG,IAAI,cAAc,CAAA;QAC9B,GAAG,CAAC,KAAK,GAAG,GAAE,EAAE,CAAC,GAAG,CAAA;QACpB,GAAG,CAAC,KAAK,GAAG,GAAE,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE,CAAA;QAE3B,OAAO,IAAI,CAAC,IAAI,GAAG,GAAG,CAAA;IACvB,CAAC;IAED,MAAM,GAAG,IAA+B,CAAA;IACxC,KAAK;QACJ,IAAI,IAAI,CAAC,MAAM;YAAE,OAAO,IAAI,CAAC,MAAM,CAAA;QAEnC,MAAM,GAAG,GAAG,IAAI,aAAa,CAAA;QAC7B,GAAG,CAAC,KAAK,GAAG,CAAC,IAAa,EAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAE,IAAI,CAAE,CAAA;QAEpD,OAAO,IAAI,CAAC,MAAM,GAAG,GAAG,CAAA;IACzB,CAAC;IAED,GAAG;QACF,OAAO;YACN,IAAI,CAAC,GAAG,EAAE;YACV,IAAI,CAAC,KAAK,EAAE;YACZ,IAAI,CAAC,GAAG,EAAE;SACV,CAAA;IACF,CAAC;CACD;AAGD,YAAY,CAAC,IAAI,GAAG,GAAE,EAAE,CAAC,WAAW,CAAA;;;;AC5EpC,IAAU,CAAC,CAER;AAFH,WAAU,CAAC;IAAG,iBAAiB,CAAE,wBAAwB,EACxD,2JAA2J,CAC3J,CAAA;AAAC,CAAC,EAFO,CAAC,KAAD,CAAC,QAER;;","sourcesContent":[null,"Error.stackTraceLimit = 50;\n\ndeclare let _$_: { new(): {} } & typeof globalThis\ndeclare class $ extends _$_ {}\n\nnamespace $ {\n\texport type $ = typeof $$\n\texport declare class $$ extends $ {}\n\tnamespace $$ {\n\t\texport type $$ = $\n\t}\n}\n\nmodule.exports = $\n",null,"// mam/my/lom/dom/context/context.ts\nlet $my_lom_dom_context: typeof globalThis\n","// mam/my/lom/dom/context/context.web.ts\n$my_lom_dom_context = self\n","namespace $ {\n\t\n\texport var $mol_dom_context : typeof globalThis\n\t\n}\n","namespace $ {\n\t\n\t$.$mol_dom_context = self as any\n\t\n}\n","namespace $ {\n\n\texport function $mol_dom_render_children (\n\t\tel : Element | DocumentFragment ,\n\t\tchildNodes : NodeList | Array< Node | string | null >\n\t) {\n\t\tconst node_set = new Set< Node | string | null >( childNodes )\n\t\t\n\t\tlet nextNode : Node | null = el.firstChild\n\t\tfor( let view of childNodes ) {\n\n\t\t\tif( view == null ) continue\n\n\t\t\tif( view instanceof $mol_dom_context.Node ) {\n\t\t\t\t\n\t\t\t\twhile( true ) {\n\t\t\t\t\tif( !nextNode ) {\n\t\t\t\t\t\tel.appendChild( view )\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\tif( nextNode == view ) {\n\t\t\t\t\t\tnextNode = nextNode.nextSibling\n\t\t\t\t\t\tbreak\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif( node_set.has( nextNode ) ) {\n\t\t\t\t\t\t\tel.insertBefore( view , nextNode )\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst nn = nextNode.nextSibling\n\t\t\t\t\t\t\tel.removeChild( nextNode )\n\t\t\t\t\t\t\tnextNode = nn\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\tif( nextNode && nextNode.nodeName === '#text' ) {\n\t\t\t\t\tconst str = String( view )\n\t\t\t\t\tif( nextNode.nodeValue !== str ) nextNode.nodeValue = str\n\t\t\t\t\tnextNode = nextNode.nextSibling\n\t\t\t\t} else {\n\t\t\t\t\tconst textNode = $mol_dom_context.document.createTextNode( String( view ) )\n\t\t\t\t\tel.insertBefore( textNode , nextNode )\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t\twhile( nextNode ) {\n\t\t\tconst currNode = nextNode\n\t\t\tnextNode = currNode.nextSibling\n\t\t\tel.removeChild( currNode )\n\t\t}\n\t}\n\n}\n","class $my_lom_view {\n\n\t// Тут и ниже, такие поля используются для кеширования.\n\t// Удалятся при добавлении реактивности, в следующей главе\n\t_dom_node = null as unknown as Element\n\t// Создание DOM-ноды и регистрация событий на ней\n\tdom_node() {\n\t\tif ( this._dom_node ) return this._dom_node\n\n\t\tconst node = $my_lom_dom_context.document.createElement( this.dom_name() )\n\n\t\tfor ( const [name, fn] of Object.entries(this.event()) ) {\n\t\t\tnode.addEventListener(name ,fn)\n\t\t}\n\n\t\t// Атрибут с именем класса, для матчинга из css\n\t\tnode.setAttribute('view', this.constructor.name)\n\n\t\treturn this._dom_node = node\n\t}\n\n\t// Актуализация атрибутов и полей\n\tdom_node_actual() {\n\t\tconst node = this.dom_node()\n\n\t\tfor ( const [name, val] of Object.entries(this.attr()) ) {\n\t\t\tnode.setAttribute(name, String(val))\n\t\t}\n\n\t\tfor ( const [name, val] of Object.entries(this.field()) ) {\n\t\t\t( node as any )[name as keyof Element]  = val\n\t\t}\n\n\t\treturn node\n\t}\n\n\t// Подготовка и рендеринг дочерних компонентов\n\tdom_tree() {\n\t\tconst node = this.dom_node_actual()\n\n\t\tconst node_list = this.sub().map( node => {\n\t\t\tif ( node === null ) return null\n\t\t\treturn node instanceof $my_lom_view ? node.dom_tree() : String(node)\n\t\t} )\n\n\t\t// Воспользуемся рендером из $mol\n\t\t$.$mol_dom_render_children( node , node_list )\n\n\t\treturn node\n\t}\n\n\t// Методы ниже будут переопредялятся в компонентах-наследниках\n\n\t// Имя DOM-элемента\n\tdom_name() {\n\t\treturn 'div'\n\t}\n\t// Объект с атрибутами\n\tattr(): { [key: string]: string|number|boolean|null } {\n\t\treturn {}\n\t}\n\t// Объект с событиями\n\tevent(): { [key: string]: (e: Event) => any } {\n\t\treturn {}\n\t}\n\t// Объекст с полями\n\tfield(): { [key: string]: any } {\n\t\treturn {}\n\t}\n\t// Дочерние компоненты\n\tsub(): Array<$my_lom_view | Node | string | number | boolean> {\n\t\treturn []\n\t}\n// mam/my/lom/view/view.ts\n\tstatic root: ()=> typeof $my_lom_view\n\tstatic mount() {\n\t\tconst node = $my_lom_dom_context.document.querySelector( '#root' )\n\t\tif ( !node ) return\n\n\t\tconst View = this.root()\n\t\tconst obj = new View\n\n\t\tnode.replaceWith( obj.dom_tree() )\n\t\tsetInterval( ()=> obj.dom_tree() , 100 )\n\t}\n}\n","// mam/my/lom/view/view.web.ts\n\"use strict\";\nsetTimeout(() => $my_lom_view.mount(), 0)\n","// mam/my/counter/storage/storage.ts\n\nclass $my_lom_storage {\n\n\tstatic value<Value>( key: string, next?: Value ) {\n\t\tif ( next === undefined ) return JSON.parse( localStorage.getItem( key ) ?? 'null' )\n\n\t\tif ( next === null ) localStorage.removeItem( key )\n\t\telse localStorage.setItem( key, JSON.stringify( next ) )\n\n\t\treturn next\n\t}\n\n}\n","// mam/my/counter/button/button.ts\n\nclass $my_lom_button extends $my_lom_view {\n\n\tdom_name() { return 'button' }\n\n\ttitle() { return '' }\n\n\tclick( e: Event ) {}\n\n\tsub() {\n\t\treturn [ this.title() ]\n\t}\n\n\tevent() {\n\t\treturn {\n\t\t\tclick: (e: Event) => this.click(e)\n\t\t}\n\t}\n\n}\n\nclass $my_lom_button_minor extends $my_lom_button {\n\n\tattr() {\n\t\treturn {\n\t\t\t'my_lom_button_minor': true,\n\t\t}\n\t}\n\n}\n","// mam/my/counter/input/input.ts\n\nclass $my_lom_input extends $my_lom_view {\n\tdom_name() { return 'input' }\n\n\ttype() { return 'text' }\n\n\t_value = ''\n\tvalue( next = this._value ) {\n\t\treturn this._value = next\n\t}\n\n\tevent_change( e: Event ) {\n\t\tthis.value( (e.target as HTMLInputElement).value )\n\t}\n\n\tfield() {\n\t\treturn {\n\t\t\tvalue: this.value(),\n\t\t}\n\t}\n\n\tattr() {\n\t\treturn {\n\t\t\ttype: this.type(),\n\t\t}\n\t}\n\n\tevent() {\n\t\treturn {\n\t\t\tinput: (e: Event)=> this.event_change(e),\n\t\t}\n\t}\n}\n","namespace $ {\n\n\texport const $mol_ambient_ref : unique symbol = Symbol( '$mol_ambient_ref' )\n\n\t/** @deprecated use $ instead */\n\texport type $mol_ambient_context = $\n\n\texport function $mol_ambient( this : $ | void , overrides : Partial< $ > ) : $ {\n\t\treturn Object.setPrototypeOf( overrides , this || $ )\n\t}\n\n}\n","namespace $ {\n\n\tconst instances = new WeakSet< any >()\n\n\t/**\n\t * Proxy that delegates all to lazy returned target.\n\t * \n\t * \t$mol_delegate( Array.prototype , ()=> fetch_array() )\n\t */\n    export function $mol_delegate< Value extends object >(\n\t\tproto : Value ,\n\t\ttarget : ()=> Value ,\n\t) {\n\n\t\tconst proxy = new Proxy( proto , {\n\n\t\t\tget: ( _ , field )=> {\n\t\t\t\tconst obj = target()\n\t\t\t\tlet val = Reflect.get( obj , field )\n\t\t\t\tif( typeof val === 'function' ) {\n\t\t\t\t\tval = val.bind( obj )\n\t\t\t\t} \n\t\t\t\treturn val\n\t\t\t},\n\t\t\thas: ( _ , field )=> Reflect.has( target(), field ),\n\t\t\tset: ( _ , field , value )=> Reflect.set( target() , field , value ),\n\t\t\t\n\t\t\tgetOwnPropertyDescriptor: ( _ , field )=> Reflect.getOwnPropertyDescriptor( target() , field ),\n\t\t\townKeys: ()=> Reflect.ownKeys( target() ),\n\t\t\t\n\t\t\tgetPrototypeOf: ()=> Reflect.getPrototypeOf( target() ),\n\t\t\tsetPrototypeOf: ( _ , donor )=> Reflect.setPrototypeOf( target() , donor ),\n\t\t\t\n\t\t\tisExtensible: ()=> Reflect.isExtensible( target() ),\n\t\t\tpreventExtensions: ()=> Reflect.preventExtensions( target() ),\n\t\t\t\n\t\t\tapply: ( _ , self , args )=> Reflect.apply( target() as Function , self , args ),\n\t\t\tconstruct: ( _ , args , retarget )=> Reflect.construct( target() as Function , args , retarget ),\n\t\t\t\n\t\t\tdefineProperty: ( _ , field , descr )=> Reflect.defineProperty( target() , field , descr ),\n\t\t\tdeleteProperty: ( _ , field )=> Reflect.deleteProperty( target() , field ),\n\n\t\t} )\n\n\t\tinstances.add( proxy )\n\n\t\treturn proxy\n\n\t}\n\n\tReflect.defineProperty(\n\t\t$mol_delegate ,\n\t\tSymbol.hasInstance ,\n\t\t{\n\t\t\tvalue : ( obj : object )=> instances.has( obj ),\n\t\t},\n\t)\n\n}\n","namespace $ {\n\n\texport const $mol_owning_map = new WeakMap< any , any >()\n\n\texport function $mol_owning_allow< Having >(\n\t\thaving : Having ,\n\t) : having is Having & {\n\t\tdestructor() : void\n\t} {\n\t\ttry {\n\t\t\tif( !having ) return false\n\t\t\tif( typeof having !== 'object' ) return false\n\t\t\tif( having instanceof $mol_delegate ) return false\n\t\t\tif( typeof (having as any)['destructor'] !== 'function' ) return false\n\t\t\treturn true\n\t\t} catch {\n\t\t\treturn false\n\t\t}\n\t}\n\n\texport function $mol_owning_get< Having , Owner extends object >( having : Having , Owner? : { new() : Owner } ) : Owner | null {\n\t\n\t\tif( !$mol_owning_allow( having ) ) return null\n\n\t\twhile( true ) {\n\n\t\t\tconst owner = $mol_owning_map.get( having )\n\t\t\tif( !owner ) return owner\n\t\t\tif( !Owner ) return owner\n\t\t\t\n\t\t\tif( owner instanceof Owner ) return owner\n\n\t\t\thaving = owner\n\t\t}\n\n\t}\n\t\n\texport function $mol_owning_check< Owner , Having >(\n\t\towner : Owner ,\n\t\thaving : Having ,\n\t) : having is Having & { destructor() : void } {\n\t\tif( !$mol_owning_allow( having ) ) return false\n\t\tif( $mol_owning_map.get( having ) !== owner ) return false\n\t\treturn true\n\t}\n\t\n\texport function $mol_owning_catch< Owner , Having >(\n\t\towner : Owner ,\n\t\thaving : Having ,\n\t) {\n\t\tif( !$mol_owning_allow( having ) ) return false\n\t\tif( $mol_owning_map.get( having ) ) return false\n\n\t\t$mol_owning_map.set( having , owner )\n\t\treturn true\n\t}\n\n}\n","namespace $ {\n\n\texport function $mol_fail( error : any ) : never {\n\t\tthrow error\n\t}\n\n}\n","namespace $ {\n\n\texport function $mol_fail_hidden( error : any ) : never {\n\t\tthrow error /// Use 'Never Pause Here' breakpoint in DevTools or simply blackbox this script\n\t}\n\n}\n",null,"namespace $ {\n\n\texport class $mol_object2 {\n\t\t\n\t\tstatic $ = $ as $\n\t\t\n\t\t[Symbol.toStringTag]!: string\n\n\t\t[ $mol_ambient_ref ] = null as any as $\n\t\tget $() {\n\t\t\tif( this[ $mol_ambient_ref ] ) return this[ $mol_ambient_ref ]\n\t\t\tconst owner = $mol_owning_get( this ) as any\n\t\t\treturn this[ $mol_ambient_ref ] = owner?.$ || $mol_object2.$ as $\n\t\t}\n\t\tset $( next : $ ) {\n\t\t\tif( this[ $mol_ambient_ref ] ) $mol_fail_hidden( new Error( 'Context already defined' ) )\n\t\t\tthis[ $mol_ambient_ref ] = next\n\t\t}\n\n\t\tpublic static create< Instance >(\n\t\t\tthis : new( init? : ( instance : any )=> void )=> Instance ,\n\t\t\tinit? : ( instance : $mol_type_writable<Instance> )=> void\n\t\t) : Instance {\n\t\t\tconst obj = new this\n\t\t\tif( init ) init( obj )\n\t\t\treturn obj\n\t\t}\n\t\t\n\t\tstatic [ Symbol.toPrimitive ]() {\n\t\t\treturn this.toString()\n\t\t}\n\t\t\n\t\tstatic toString() {\n\t\t\tif( Symbol.toStringTag in this ) return this[ Symbol.toStringTag ] as string\n\t\t\treturn this.name\n\t\t}\n\t\t\n\t\tdestructor() { }\n\t\t\n\t\t//[ Symbol.toPrimitive ]( hint: string ) {\n\t\t//\treturn hint === 'number' ? this.valueOf() : this.toString()\n\t\t//}\n\t\t\n\t\ttoString(): string {\n\t\t\treturn this[ Symbol.toStringTag ] || this.constructor.name + '()'\n\t\t}\n\t\t\n\t\ttoJSON(): any {\n\t\t\treturn this.toString()\n\t\t}\n\n\t}\n}\n","namespace $ {\n\n\texport class $mol_after_tick extends $mol_object2 {\n\n\t\tpromise : any\n\t\tcancelled = false\n\n\t\tconstructor(\n\t\t\tpublic task : ()=> void ,\n\t\t) {\n\t\t\tsuper()\n\t\t\tthis.promise = Promise.resolve().then( ()=> {\n\t\t\t\tif( this.cancelled ) return\n\t\t\t\ttask()\n\t\t\t} )\n\t\t}\n\n\t\tdestructor() {\n\t\t\tthis.cancelled = true\n\t\t}\n\n\t}\n\t\n}\n","namespace $ {\n\n\tlet all = [] as string[]\n\tlet el : HTMLStyleElement | null = null\n\tlet timer : $mol_after_tick | null = null\n\n\texport function $mol_style_attach_force() {\n\t\tif( all.length ) {\n\t\t\tel!.innerHTML += '\\n' + all.join( '\\n\\n' )\n\t\t\tall = []\n\t\t}\n\t\ttimer = null\n\t\treturn el!\n\t}\n\t\n\texport function $mol_style_attach(\n\t\tid : string ,\n\t\ttext : string ,\n\t) {\n\n\t\tall.push( `/* ${ id } */\\n\\n${ text }`)\n\n\t\tif( timer ) return el!\n\t\t\n\t\tconst doc = $mol_dom_context.document\n\t\tif( !doc ) return null\n\n\t\tel = doc.createElement('style')\n\t\tel.id = `$mol_style_attach`\n\t\tdoc.head.appendChild( el )\n\n\t\ttimer = new $mol_after_tick( $mol_style_attach_force )\n\n\t\treturn el\n\n\t}\n\n}\n","// mam/my/theme/theme.ts\nsetInterval( ()=> {\n\t//if ( typeof document === 'undefined' ) return\n\n\t$my_lom_dom_context.document.documentElement.setAttribute(\n\t\t'my_lom_theme' ,\n\t\tnew Date().getSeconds() < 30 ? 'light' : 'dark' ,\n\t)\n} , 1_000 )\n","// mam/my/counter/counter.ts\nclass $my_counter extends $my_lom_view {\n\n// delete\n// -\tstorage<Value>( key: string, next?: Value ) {\n// -\t\tif ( next === undefined ) return JSON.parse( localStorage.getItem( key ) ?? 'null' )\n// -\n// -\t\tif ( next === null ) localStorage.removeItem( key )\n// -\t\telse localStorage.setItem( key, JSON.stringify( next ) )\n// -\n// -\t\treturn next\n// -\t}\n\n\tcount( next?: number ) {\n// -\t\treturn this.storage( 'count' , next ) ?? 0\n\t\treturn $my_lom_storage.value( 'count' , next ) ?? 0 // +\n\t}\n\n\n\tcount_str( next?: string ) {\n\t\treturn this.count( next?.valueOf && Number(next) ).toString()\n\t}\n\n\tinc() {\n\t\tthis.count( this.count() + 1 )\n\t}\n\n\tdec() {\n\t\tthis.count( this.count() - 1 )\n\t}\n\n\t// Создаем инстанс $my_lom_button\n\t// Переопределяем title\n\t// click биндим на this.inc\n\t_Inc = null as unknown as $my_lom_view\n\tInc() {\n\t\tif (this._Inc) return this._Inc\n\n\t\tconst obj = new $my_lom_button\n\t\tobj.title = ()=> '+'\n\t\tobj.click = ()=> this.inc()\n\n\t\treturn this._Inc = obj\n\t}\n\n\t_Dec = null as unknown as $my_lom_view\n\tDec() {\n\t\tif (this._Dec) return this._Dec\n\n\t\tconst obj = new $my_lom_button\n\t\tobj.title = ()=> '-'\n\t\tobj.click = ()=> this.dec()\n\n\t\treturn this._Dec = obj\n\t}\n\n\t_Count = null as unknown as $my_lom_view\n\tCount() {\n\t\tif (this._Count) return this._Count\n\n\t\tconst obj = new $my_lom_input\n\t\tobj.value = (next?: string)=> this.count_str( next )\n\n\t\treturn this._Count = obj\n\t}\n\n\tsub() {\n\t\treturn [\n\t\t\tthis.Dec(),\n\t\t\tthis.Count(),\n\t\t\tthis.Inc(),\n\t\t]\n\t}\n}\n\n// Вызываем для монтирования приложения в DOM-дерево\n$my_lom_view.root = ()=> $my_counter\n","namespace $ { $mol_style_attach( \"my/counter/counter.css\",\n \"/* mam/my/counter/counter.css */\\n[my_lom_theme=\\\"light\\\"] {\\n\\tbackground-color: white;\\n}\\n\\n[my_lom_theme=\\\"dark\\\"] {\\n\\tbackground-color: black;\\n}\\n\"\n) }"]}